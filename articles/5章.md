## 5-1 virtual dom


vdom  80%依赖diff算法

<b>vdom是什么?</b>

	在前端中，对dom直接修改操作是昂贵的，效率是低下的
	我们用js对象模拟dom结构，监听dom的变化，提高重绘性能
	

dom:  

![img](https://github.com/shipskunkun/interview-tips2/blob/master/images/2.png)



vdom:


![img](https://github.com/shipskunkun/interview-tips2/blob/master/images/3.png)


## 5-4 jQuery是如何实现 render的

例如表格，每次重新添加 html, HTML 和 data 混合在一起，效率低下


![img](https://github.com/shipskunkun/interview-tips2/blob/master/images/4.png)





## 5-7 snabbdom

随着 React Vue 等框架的流行，Virtual DOM 也越来越火，snabbdom 是其中一种实现，而且 Vue 2.x 版本的 Virtual DOM 部分也是基于 snabbdom 进行修改的。snabbdom 这个库核心代码只有 200 多行，非常适合想要深入了解 Virtual DOM 实现的读者阅读。如果您没听说过 snabbdom，可以先看看官方文档。



diff算法步骤

	1. 用js对象来描述dom树结构，然后用这个js对象来创建一棵真正的dom树，插入到文档中
	2. 当状态更新时,将新的js对象和旧的js对象进行比较，得到两个对象之间的差异
	3. 将差异应用到真正的 dom 上

	
snabbdom 主要的两个函数：

h(type, data, children)，返回 Virtual DOM 树。     
patch(oldVnode, newVnode)，比较新旧 Virtual DOM 树并更新。


   

![img](https://github.com/shipskunkun/interview-tips2/blob/master/images/5.png)





















## 参考文章

https://juejin.im/post/5b9200865188255c672e8cfd

